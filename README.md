# Discord ã¡ã‚‡ã†ã›ã„ãã‚“

Discordä¸Šã§ç°¡å˜ã«æ—¥ç¨‹èª¿æ•´ãŒã§ãã‚‹ãƒœãƒƒãƒˆã€‚èª¿æ•´ã•ã‚“ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚’Discordå†…ã§å®Œçµã•ã›ã¾ã™ã€‚

## ç‰¹å¾´

- ğŸ¯ **ã‚·ãƒ³ãƒ—ãƒ«ãªæ“ä½œ**: ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã ã‘ã§å‚åŠ æ„æ€ã‚’è¡¨æ˜
- ğŸ“Š **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é›†è¨ˆ**: å›ç­”ãŒå³åº§ã«åæ˜ ã•ã‚Œã‚‹
- ğŸŒŸ **æœ€é©æ—¥ç¨‹ã®è‡ªå‹•åˆ¤å®š**: æœ€ã‚‚å¤šãã®äººãŒå‚åŠ ã§ãã‚‹æ—¥ç¨‹ã‚’è‡ªå‹•ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- ğŸ“ **æŸ”è»Ÿãªå›ç­”**: â—‹â–³Ã—ã®3æ®µéšã§å›ç­”ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚‚è¿½åŠ å¯èƒ½
- ğŸ”„ **å›ç­”ã®å¤‰æ›´**: ä½•åº¦ã§ã‚‚å›ç­”ã‚’å¤‰æ›´ã§ãã‚‹
- ğŸ“¤ **CSVå‡ºåŠ›**: é›†è¨ˆçµæœã‚’CSVå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. Discord Application ã®ä½œæˆ

1. [Discord Developer Portal](https://discord.com/developers/applications) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. "New Application" ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
3. "Bot" ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ Bot ã‚’ä½œæˆã—ã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼
4. "OAuth2" > "URL Generator" ã§ä»¥ä¸‹ã®è¨­å®š:
   - Scopes: `bot`, `applications.commands`
   - Bot Permissions: `Send Messages`, `Use Slash Commands`, `Embed Links`
5. ç”Ÿæˆã•ã‚ŒãŸURLã§ãƒœãƒƒãƒˆã‚’ã‚µãƒ¼ãƒãƒ¼ã«æ‹›å¾…

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.example` ã‚’ `.env` ã«ã‚³ãƒ”ãƒ¼ã—ã¦ã€ä»¥ä¸‹ã®å€¤ã‚’è¨­å®š:

```env
DISCORD_APPLICATION_ID=your_application_id
DISCORD_PUBLIC_KEY=your_public_key
DISCORD_TOKEN=your_bot_token
```

### 3. Cloudflare Workers ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Cloudflare ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³
wrangler login

# KV Namespace ã®ä½œæˆ
wrangler kv:namespace create "SCHEDULES"
wrangler kv:namespace create "RESPONSES"

# wrangler.toml ã® KV binding ID ã‚’æ›´æ–°
```

### 4. ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# é–‹ç™ºç’°å¢ƒã§å®Ÿè¡Œ
npm run dev

# æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
npm run deploy
```

### 5. Discord Commands ã®ç™»éŒ²

```bash
# register-commands.js ã‚’å®Ÿè¡Œ
node scripts/register-commands.js
```

## ä½¿ã„æ–¹

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

#### æ—¥ç¨‹èª¿æ•´ã‚’ä½œæˆ
```
/schedule create title:"æ‡‡è¦ªä¼š" date1:"12/25 19:00" date2:"12/26 18:00"
```

#### æ—¥ç¨‹èª¿æ•´ä¸€è¦§ã‚’è¡¨ç¤º
```
/schedule list
```

#### é›†è¨ˆçµæœã‚’ç¢ºèª
```
/schedule status id:"èª¿æ•´ID"
```

#### æ—¥ç¨‹èª¿æ•´ã‚’ç· åˆ‡
```
/schedule close id:"èª¿æ•´ID"
```

#### ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
```
/help
```

### å›ç­”æ–¹æ³•

1. ä½œæˆã•ã‚ŒãŸæ—¥ç¨‹èª¿æ•´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å„æ—¥ç¨‹ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ä»¥ä¸‹ã‚’å…¥åŠ›:
   - å‚åŠ å¯å¦: â—‹ï¼ˆå‚åŠ å¯èƒ½ï¼‰ã€â–³ï¼ˆæœªå®šï¼‰ã€Ã—ï¼ˆå‚åŠ ä¸å¯ï¼‰
   - ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆä»»æ„ï¼‰

## é–‹ç™º

### å¿…è¦ãªç’°å¢ƒ

- Node.js 18+
- npm or yarn
- Cloudflare ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
npm test

# å‹ãƒã‚§ãƒƒã‚¯
npm run typecheck

# ãƒ‡ãƒ—ãƒ­ã‚¤
npm run deploy
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
src/
â”œâ”€â”€ handlers/       # ã‚³ãƒãƒ³ãƒ‰ã‚„ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”œâ”€â”€ services/       # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ types/          # TypeScriptå‹å®šç¾©
â”œâ”€â”€ utils/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ middleware/     # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â””â”€â”€ index.ts        # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ

tests/              # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT

## è²¢çŒ®

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ï¼ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½è¦æœ›ã¯ Issues ã¸ãŠé¡˜ã„ã—ã¾ã™ã€‚